% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peakDet.R
\name{peakDet}
\alias{peakDet}
\title{peakDet}
\usage{
peakDet(v, delta, x = NULL)
}
\arguments{
\item{v}{a numeric vector where to search peaks.}

\item{delta}{numeric of length one; defining the local threshold for peak detection.}

\item{x}{a numeric vector the same length as v containing corresponding x-values for v.}
}
\value{
Peak detected points
}
\description{
A peak detection algorithm for R; finds local maxima and minima.
Based on an algorithm for MATLAB by Eli Billauer (http://www.billauer.co.il/peakdet.html).

A list containing two data frames maxtab and mintab containing maxima and
minima. Data frames contain two columns with indices in v (or corresponding
values in x if provided) and values in v.
}
\examples{

# Simulated data
x <- seq(0, 20, .05)
vals <- sin(x)
det <- peakDet(vals, .5, x)
det
plot(x = x, y = vals, frame = FALSE, xlab = 'Time', ylab = 'Stage', type = 'l');
points(det$maxtab$val~det$maxtab$pos, bg = 'red', pch = 21, col = 'black',
lwd = 0.9, cex = 1.5);
points(det$mintab$val~det$mintab$pos, bg = 'blue', pch = 21, col = 'black',
lwd = 0.9, cex = 1.5)

## Observed hydrometric
library(riskyData)
data(bewdley)
bewdley$window(start = '2020-10-01 00:00', export ='snip')

det <- peakDet(bewdley$data$value, 40, seq_along(bewdley$data$value))

plot(x = seq_along(bewdley$data$value),
     y = bewdley$data$value,
     xlab = 'Time',
     ylab = 'Stage',
     type = 'l');
points(det$maxtab$val~det$maxtab$pos,
       bg = 'red', pch = 21, col = 'black',
       lwd = 0.9, cex = 1.5);
points(det$mintab$val~det$mintab$pos,
       bg = 'blue', pch = 21, col = 'black',
       lwd = 0.9, cex = 1.5)
}
